               +--------------------+
  +----------- |                    |
  |            |      Default       |
  +----------> |                    | -+
               +--------------------+  |
                 |                     |
                 | state=connect       |
                 v                     |
               +--------------------+  |
  +----------- |     Handshake      |  |
  |            +--------------------+  |
  |              |                     |
  |              |                     |
  |              v                     |
  |            +--------------------+  |
  |            |      TimeSync      | -+--------------+
  |            +--------------------+  |              |
  |              |                     |              |
  |              |                     |              |
  |              v                     |              |
  |            +--------------------+  |              |
  |            |      Running       |  |              |
  |            +--------------------+  |              |
  |              |                     |              |
  | state=done   | state=done          | state=done   | state=done
  |              v                     v              v
  |            +--------------------------------------------------+
  +----------> |                    Deactivate                    |
               +--------------------------------------------------+
                 |
                 |
                 v
               +--------------------+
               | TimeSyncDeactivate |
               +--------------------+
                 |
                 |
                 v
               +--------------------+
               |      Respawn       |
               +--------------------+
                 |
                 |
                 v
               +--------------------+
               |        Done        |
               +--------------------+
